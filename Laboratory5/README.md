# ‚òÅÔ∏è Lab 5 - Deploying API in Cloud (Render)

## üìå Description
In this lab, the task was to deploy the FastAPI-based task management API (from Lab 4) to the cloud using **Render**. This project demonstrates how to take an API that was previously run locally and deploy it to a cloud service, making it publicly accessible. The deployment also includes setting up the necessary environment variables such as the API key and configuring the server for production use.

## üìñ Learning Objectives
- Understanding how to deploy a FastAPI application to the cloud.
- Setting up **Render** as a cloud hosting platform for FastAPI.
- Managing environment variables securely in the cloud.
- Testing API deployment and ensuring its functionality in a cloud environment.

## üìù Code Explanation
The code used in this lab is based on the **task management API** from Lab 4. The API supports multiple operations like creating, retrieving, updating, and deleting tasks, and is protected by an API key for secure access.

### Key Steps in Deployment:
1. **Create a Render Account**: Set up an account on Render and create a new **Web Service** for deploying the FastAPI app.
2. **Environment Variables**: Add the `API_KEY` as an environment variable in Render to protect access to the API.
3. **Push the Code to GitHub**: Push the code from Lab 4 to a GitHub repository.
4. **Link GitHub to Render**: Connect your GitHub repository to Render, enabling automatic deployments from the repository.
5. **Configure Render Web Service**: Configure the Render service to run the FastAPI application with the `uvicorn` server.
6. **Verify Deployment**: Test the deployed API using **Postman** or **cURL** to ensure all endpoints are working as expected.

## üìú Example Outputs
Once the application is successfully deployed on Render, you can access the API via a URL generated by Render. Here are some example outputs:

| Endpoint                          | Input                                    | Output                                                                                              |
|-----------------------------------|------------------------------------------|-----------------------------------------------------------------------------------------------------|
| **GET /apiv1/**                    | None                                     | `{ "message": "Welcome to API v1" }`                                                                |
| **GET /apiv1/tasks/1**             | `task_id=1`                              | `{ "status": "ok", "task": { "task_id": 1, "task_title": "Test 1", "task_desc": "Complete FastAPI basics", "is_finished": false } }` |
| **POST /apiv1/tasks/**             | `task_title="Test 3", task_desc="Learn OAuth"` | `{ "status": "ok", "task": { "task_id": 2, "task_title": "Test 3", "task_desc": "Learn OAuth", "is_finished": false } }` |
| **DELETE /apiv1/tasks/1**          | `task_id=1`                              | `{ "status": "ok", "message": "Task deleted successfully" }`                                         |
| **PATCH /apiv1/tasks/2**           | `task_id=2, task_title="Updated Task", task_desc="Master OAuth"` | `{ "status": "ok", "task": { "task_id": 2, "task_title": "Updated Task", "task_desc": "Master OAuth", "is_finished": false } }` |
| **GET /apiv2/tasks/1**             | `task_id=1`                              | `{ "status": "ok", "task": { "task_id": 1, "task_title": "Test 2", "task_desc": "Revise To-Do API", "is_finished": false } }` |
| **POST /apiv2/tasks/**             | `task_title="Test 4", task_desc="Deep Dive into Security"` | `{ "status": "ok", "task": { "task_id": 2, "task_title": "Test 4", "task_desc": "Deep Dive into Security", "is_finished": false } }` |
| **DELETE /apiv2/tasks/1**          | `task_id=1`                              | `{ "status": "ok", "message": "Task deleted successfully" }`                                         |
| **PATCH /apiv2/tasks/2**           | `task_id=2, task_title="Revised Task", task_desc="Enhance Security"` | `{ "status": "ok", "task": { "task_id": 2, "task_title": "Revised Task", "task_desc": "Enhance Security", "is_finished": false } }` |
